{
  "$schema": "qa/issue-registry.schema.md",
  "version": "1.0",
  "description": "Mechanical verification registry for documented issues. Source of truth for bug existence proof.",
  "issues": [
    {
      "id": "bug-014",
      "summary": "Test unwrap() needs context",
      "severity": "LOW",
      "discovered": "2026-02-16T09:00:00Z",
      "version": "0.1.0",
      "commit": "fcb13b1",
      "file": "crates/core/tests/handlers_http_test.rs",
      "pattern": "\\.unwrap\\(\\)",
      "expected": "present",
      "status": "open"
    },
    {
      "id": "bug-015",
      "summary": "BIND_ADDRESS validation deferred",
      "severity": "LOW",
      "discovered": "2026-02-16T09:00:00Z",
      "version": "0.1.0",
      "commit": "fcb13b1",
      "file": "crates/core/src/config.rs",
      "pattern": "BIND_ADDRESS.*unwrap_or",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-016",
      "summary": "Resource cleanup on timeout incomplete",
      "severity": "LOW",
      "discovered": "2026-02-16T09:00:00Z",
      "version": "0.1.0",
      "commit": "fcb13b1",
      "file": "plugins/python_bridge/src/ipc.rs",
      "pattern": "pending_calls\\.remove\\(&id\\)",
      "expected": "present",
      "status": "open"
    },
    {
      "id": "bug-017",
      "summary": "CI/CD: cargo audit security check missing",
      "severity": "HIGH",
      "discovered": "2026-02-16T12:00:00Z",
      "version": "0.1.0",
      "commit": "bf59508",
      "file": ".github/workflows/ci.yml",
      "pattern": "cargo audit",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-018",
      "summary": "SafeHttpClient::new() uses .expect() causing panic risk",
      "severity": "CRITICAL",
      "discovered": "2026-02-16T15:00:00Z",
      "version": "0.1.0",
      "commit": "bc5a647",
      "file": "crates/core/src/capabilities.rs",
      "pattern": "\\.expect\\(\"Failed to build reqwest client\"\\)",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-019",
      "summary": "Python sandbox FORBIDDEN_MODULES missing critical modules",
      "severity": "CRITICAL",
      "discovered": "2026-02-16T15:00:00Z",
      "version": "0.1.0",
      "commit": "bc5a647",
      "file": "scripts/bridge_runtime.py",
      "pattern": "'socket'\\}",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-020",
      "summary": "Agent metadata accepts unlimited size without validation",
      "severity": "HIGH",
      "discovered": "2026-02-16T15:30:00Z",
      "version": "0.1.0",
      "commit": "19c19da",
      "file": "crates/core/src/handlers.rs",
      "pattern": "metadata\\.len\\(\\) > 50",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-021",
      "summary": "DeepSeek plugin silently accepts empty API key at startup",
      "severity": "HIGH",
      "discovered": "2026-02-16T15:30:00Z",
      "version": "0.1.0",
      "commit": "19c19da",
      "file": "plugins/deepseek/src/lib.rs",
      "pattern": "DeepSeek plugin.*No API key configured",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-022",
      "summary": "Cerebras plugin silently accepts empty API key at startup",
      "severity": "HIGH",
      "discovered": "2026-02-16T15:30:00Z",
      "version": "0.1.0",
      "commit": "19c19da",
      "file": "plugins/cerebras/src/lib.rs",
      "pattern": "Cerebras plugin.*No API key configured",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-023",
      "summary": "Release CI version check runs after build wastes resources",
      "severity": "HIGH",
      "discovered": "2026-02-16T15:30:00Z",
      "version": "0.1.0",
      "commit": "19c19da",
      "file": ".github/workflows/release.yml",
      "pattern": "# H-11: Pre-build version validation",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-024",
      "summary": "TUI terminal corruption on panic/error - no cleanup guard",
      "severity": "CRITICAL",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/tui/mod.rs",
      "pattern": "fn restore_terminal",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-025",
      "summary": "CLI SSE URL path mismatch: /api/events/stream vs kernel /api/events",
      "severity": "HIGH",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/client.rs",
      "pattern": "/api/events/stream",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-026",
      "summary": "UTF-8 panic in logs.rs: byte-index slice on multi-byte characters",
      "severity": "HIGH",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/commands/logs.rs",
      "pattern": "&content\\[\\.\\.57\\]",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-027",
      "summary": "config set writes env-var API key to disk file",
      "severity": "HIGH",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/config.rs",
      "pattern": "pub fn set\\(&mut self",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-028",
      "summary": "TUI scroll position not clamped when agent list shrinks",
      "severity": "HIGH",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/tui/app.rs",
      "pattern": "agent_scroll\\.min\\(agents\\.len\\(\\)",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-029",
      "summary": "TUI event scroll direction inverted for reversed events list",
      "severity": "HIGH",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/tui/widgets/events.rs",
      "pattern": "state\\.select\\(Some\\(app\\.event_scroll\\)\\)",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-030",
      "summary": "Chat SSE timeout only checked between chunks, not during blocking wait",
      "severity": "MEDIUM",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/commands/chat.rs",
      "pattern": "while let Some\\(chunk\\) = stream\\.next\\(\\)\\.await",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-031",
      "summary": "TUI startup deadlock when history exceeds channel capacity",
      "severity": "MEDIUM",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/tui/mod.rs",
      "pattern": "tx\\.try_send\\(AppAction::NewEvent",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-032",
      "summary": "Logs JSON and text modes output opposite chronological orders",
      "severity": "MEDIUM",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/commands/logs.rs",
      "pattern": "into_iter\\(\\)\\.rev\\(\\)\\.collect",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-033",
      "summary": "Status offline count inconsistent between JSON and text modes",
      "severity": "MEDIUM",
      "discovered": "2026-02-17T10:00:00Z",
      "version": "0.1.0",
      "commit": "fcc5d54",
      "file": "crates/cli/src/commands/status.rs",
      "pattern": "agents\\.len\\(\\) - online - degraded",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-034",
      "summary": "RUSTSEC-2024-0421: idna 0.4.0 accepts invalid Punycode labels (via validator 0.16.1)",
      "severity": "HIGH",
      "discovered": "2026-02-18T00:00:00Z",
      "version": "0.1.0",
      "commit": "6cdb226",
      "file": "Cargo.lock",
      "pattern": "\"idna 0\\.4\\.",
      "expected": "absent",
      "status": "open"
    },
    {
      "id": "bug-035",
      "summary": "RUSTSEC-2026-0002: lru 0.12.5 IterMut unsoundness (via ratatui 0.29.0)",
      "severity": "HIGH",
      "discovered": "2026-02-18T00:00:00Z",
      "version": "0.1.0",
      "commit": "6cdb226",
      "file": "Cargo.lock",
      "pattern": "name = \"lru\"\\nversion = \"0\\.12\\.",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-036",
      "summary": "Dashboard admin API calls missing X-API-Key header (grantPermission, postEvent, approvePermission, denyPermission, createAgent, postChat, postChatMessage, deleteChatMessages, toggleAgentPower)",
      "severity": "HIGH",
      "discovered": "2026-02-19T16:00:00Z",
      "version": "0.1.0",
      "commit": "d1c4dcd",
      "file": "dashboard/src/services/api.ts",
      "pattern": "grantPermission: \\(pluginId: string, permission: string\\) =>",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-037",
      "summary": "AgentPluginWorkspace: plugin layout not refreshed after save (onBack closes without re-fetching agent)",
      "severity": "MEDIUM",
      "discovered": "2026-02-19T16:00:00Z",
      "version": "0.1.0",
      "commit": "d1c4dcd",
      "file": "dashboard/src/components/AgentTerminal.tsx",
      "pattern": "onBack=\\{\\(\\) => setConfiguringAgent\\(null\\)\\}",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-038",
      "summary": "getChatMessages missing X-API-Key header (GET /chat/:agent_id/messages returns 403)",
      "severity": "HIGH",
      "discovered": "2026-02-19T17:00:00Z",
      "version": "0.1.0",
      "commit": "43c7476",
      "file": "dashboard/src/services/api.ts",
      "pattern": "getChatMessages\\(agentId: string, before",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-039",
      "summary": "parse_chat_think_result silently loses response body on missing choices[0]; Cerebras/unknown API errors not diagnosable",
      "severity": "HIGH",
      "discovered": "2026-02-19T17:20:00Z",
      "version": "0.1.0",
      "commit": "c71dcb4",
      "file": "crates/shared/src/llm.rs",
      "pattern": "Invalid API response: missing choices\\[0\\]\"\\)",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-040",
      "summary": "Cerebras non-standard error format (top-level type+message) not detected; causes misleading 'missing choices[0]' error",
      "severity": "HIGH",
      "discovered": "2026-02-19T17:32:00Z",
      "version": "0.1.0",
      "commit": "1050f34",
      "file": "crates/shared/src/llm.rs",
      "pattern": "Cerebras non-standard error format",
      "expected": "present",
      "status": "fixed"
    },
    {
      "id": "bug-041",
      "summary": "Cerebras plugin claims supports_tools=true but Cerebras API rejects JSON schema in tools",
      "severity": "HIGH",
      "discovered": "2026-02-19T17:32:00Z",
      "version": "0.1.0",
      "commit": "1050f34",
      "file": "plugins/cerebras/src/lib.rs",
      "pattern": "fn supports_tools.*true",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-042",
      "summary": "CREATE AI AGENT button disabled check omits description; submitting without description returns 400",
      "severity": "HIGH",
      "discovered": "2026-02-19T18:00:00Z",
      "version": "0.1.0",
      "commit": "ef870c6",
      "file": "dashboard/src/components/AgentTerminal.tsx",
      "pattern": "newAgent\\.name(?!.*newAgent\\.desc).*newAgent\\.engine",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-043",
      "summary": "createAgent() delegates to generic mutate(); shows 'Bad Request' instead of JSON validation message",
      "severity": "MEDIUM",
      "discovered": "2026-02-19T18:00:00Z",
      "version": "0.1.0",
      "commit": "ef870c6",
      "file": "dashboard/src/services/api.ts",
      "pattern": "mutate\\('/agents'",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-044",
      "summary": "DeepSeek plugin supports_tools=true but deepseek-reasoner model rejects tool schemas",
      "severity": "HIGH",
      "discovered": "2026-02-19T18:30:00Z",
      "version": "0.1.0",
      "commit": "06edbf6",
      "file": "plugins/deepseek/src/lib.rs",
      "pattern": "fn supports_tools.*true",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-045",
      "summary": "build_chat_messages system prompt has no Exiv platform context; agents cannot identify themselves as Exiv agents",
      "severity": "HIGH",
      "discovered": "2026-02-19T18:45:00Z",
      "version": "0.1.0",
      "commit": "5b6cd4c",
      "file": "crates/shared/src/llm.rs",
      "pattern": "You are \\{\\}\\. \\{\\}\\.",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-046",
      "summary": "Dead python.gaze reference in Home.tsx plugin ID check",
      "severity": "HIGH",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "03a5f79",
      "file": "dashboard/src/pages/Home.tsx",
      "pattern": "python\\.gaze",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-047",
      "summary": "AgentTerminal internal fallback dead code (internalAgents/internalPlugins/fetchInitialData)",
      "severity": "HIGH",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "03a5f79",
      "file": "dashboard/src/components/AgentTerminal.tsx",
      "pattern": "internalAgents",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-048",
      "summary": "Multiple SSE connections created per useEventStream consumer (no singleton)",
      "severity": "HIGH",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "03a5f79",
      "file": "dashboard/src/hooks/useEventStream.ts",
      "pattern": "eventSourceRef",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-049",
      "summary": "ContainerDashboard not extracted from AgentTerminal (988-line monolithic file)",
      "severity": "HIGH",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "03a5f79",
      "file": "dashboard/src/components/AgentTerminal.tsx",
      "pattern": "function ContainerDashboard",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-050",
      "summary": "Duplicate Metrics interface in MemoryCore (also in useMetrics hook)",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/components/MemoryCore.tsx",
      "pattern": "interface Metrics",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-051",
      "summary": "Unused ColorVisionData/DetectedElement types (vision plugin deleted)",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/types.ts",
      "pattern": "ColorVisionData",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-052",
      "summary": "Dead buttons in WindowAgentNavigator (ShieldCheck/Settings with no onClick)",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/components/WindowAgentNavigator.tsx",
      "pattern": "<ShieldCheck",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-053",
      "summary": "Canvas DPR pattern duplicated across 4 files",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/components/CustomCursor.tsx",
      "pattern": "Math\\.min\\(window\\.devicePixelRatio",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-054",
      "summary": "Hardcoded #cbd5e1 in MemoryCore (should use CSS variable)",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/components/MemoryCore.tsx",
      "pattern": "#cbd5e1",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-055",
      "summary": "Duplicate error-body parsing pattern in api.ts (5 identical blocks â†’ 1 helper)",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/services/api.ts",
      "pattern": "Failed to delete agent.*statusText",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-056",
      "summary": "Hardcoded #1e3bb3 in ExivPluginManager (should use CSS variable)",
      "severity": "MEDIUM",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "e647833",
      "file": "dashboard/src/components/ExivPluginManager.tsx",
      "pattern": "#1e3bb3",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-057",
      "summary": "ThoughtLine interface defined in both StatusCore and useStatusManager",
      "severity": "LOW",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "da2dbdd",
      "file": "dashboard/src/components/StatusCore.tsx",
      "pattern": "interface ThoughtLine",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-058",
      "summary": "clearProcessedEvent is a no-op function passed to NeuralNetwork",
      "severity": "LOW",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "da2dbdd",
      "file": "dashboard/src/components/StatusCore.tsx",
      "pattern": "clearProcessedEvent",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-059",
      "summary": "Old Karin branding remains in SystemHistory and useNeuralNetwork",
      "severity": "LOW",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "da2dbdd",
      "file": "dashboard/src/components/SystemHistory.tsx",
      "pattern": "Karin Strategic",
      "expected": "absent",
      "status": "fixed"
    },
    {
      "id": "bug-060",
      "summary": "Duplicate CSS spinner pattern across 3 components",
      "severity": "LOW",
      "discovered": "2026-02-22T00:00:00Z",
      "version": "0.1.0",
      "commit": "da2dbdd",
      "file": "dashboard/src/components/SecurityGuard.tsx",
      "pattern": "border-white/20 border-t-white rounded-full animate-spin",
      "expected": "absent",
      "status": "fixed"
    }
  ]
}
